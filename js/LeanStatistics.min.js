     function LeanStatistics(){function showView(el){$(el).each(function(){var query=new AV.Query(config.ClasS);var url=$(this).attr("id").trim();var t=query.equalTo("url",url);query.find().then(function(results){if(results.length==0){var content=$(document.getElementById(url)).text()+'0';$(document.getElementById(url)).text(content)}for(var i=0;i<results.length;i++){var object=results[i];var content=$(document.getElementById(url)).text()+object.get('view');$(document.getElementById(url)).text(content)}},function(error){console.log("Error: "+error.code+" "+error.message)})})}function addView(elP){var query=new AV.Query(config.ClasS);var url=$(elP).attr("id").trim();var title=$(elP).attr("title").trim();query.equalTo("url",url);query.find().then(function(results){if(results.length>0){var id=results[0].get('objectId');var todo=AV.Object.createWithoutData(config.ClasS,id);var updatedView=results[0].get('view')+1;todo.set('view',updatedView);todo.save().then(function(results){$(config.elP).text(updatedView)},function(error){console.log(error)})}else{var Counter=AV.Object.extend(config.ClasS);var counter=new Counter();counter.set({'title':title,'url':url,'view':1});counter.set('priority',1);counter.save().then(function(todo){$(config.el).text(1)},function(error){console.error(error)})}},function(error){console.log(error)})}if($(config.elP).length==1){showView(config.el);addView(config.elP)}else if($(config.elP).length!=1){var el=config.el;showView(config.el)}
}
